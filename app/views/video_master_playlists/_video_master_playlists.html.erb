<% if @video_master_playlists_count > 0 %>
    <%= @video_master_playlists_count %> video master playlists found

    <table cellspacing="0" width="100%">
      <tr>
        <th>
          <%= sort_link(@search, :id, 'ID') %>
        </th>
        <th>
          <%= sort_link(@search, :airline_name, 'Airline') %>
        </th>
        <th>
          <%= sort_link(@search, :start_cycle, 'Start Date') %>
        </th>
        <th>
          <%= sort_link(@search, :end_cycle, 'End Date') %>
        </th>
        <th>
          <%= sort_link(@search, :master_playlist_type_name, 'Master Playlist Type') %>
        </th>
        <th colspan="4"></th>
      </tr>
      <% @video_master_playlists.each do |video_master_playlist| %>
          <tr id="video_master_playlist-<%= video_master_playlist.id %>">
            <% cache([video_master_playlist]) do %>
                <td><%= link_to video_master_playlist.id,
                                video_master_playlist_path(id: video_master_playlist.id),
                                target: "_blank" %></td>
                <td><%= video_master_playlist.airline.name if !video_master_playlist.airline_id.nil? %></td>
                <td><%= video_master_playlist.start_cycle.strftime("%m-%Y") if !video_master_playlist.start_cycle.nil? %>&nbsp;</td>
                <td><%= video_master_playlist.end_cycle.strftime("%m-%Y") if !video_master_playlist.end_cycle.nil? %>&nbsp;</td>
                <td><%= video_master_playlist.master_playlist_type.name if !video_master_playlist.master_playlist_type.nil? %>&nbsp;</td>
            <% end %>
            <td><%= link_to('Edit',
                            edit_video_master_playlist_path(video_master_playlist),
                            target: "_blank") if video_master_playlist.locked!=true %></td>
            <% if permitted_to? :delete,
                                :video_master_playlists %>
                <td><%= link_to 'Delete',
                                video_master_playlist_url(video_master_playlist),
                                remote: true,
                                method: :delete,
                                confirm: 'Are you sure?',
                                class: 'spinner-trigger' if video_master_playlist.locked!=true %></td>
                <td><%= link_to 'Duplicate',
                                duplicate_video_master_playlist_path(video_master_playlist),
                                confirm: 'Are you sure?',
                                method: :post %></td>
            <% end %>
            <td>
              <% if permitted_to? :lock,
                                  :video_playlists %>
                  <% if video_master_playlist.locked!=true %>
                      <%= link_to 'Lock',
                                  lock_video_master_playlist_path(video_master_playlist),
                                  method: :post %>
                  <% else %>
                      <%= link_to 'Unlock',
                                  unlock_video_master_playlist_path(video_master_playlist),
                                  method: :post %>
                  <% end %>
              <% end %>
            </td>
          </tr>
      <% end %>
    </table>

    <br />
    <br />
    <%= will_paginate @video_master_playlists %>
    <%
      def items_per_page_select(collection = VideoMasterPlaylists)
        select_tag :per_page, options_for_select([10, 20, 50, 100], collection.per_page)
      end
    %>
    <%= form_for '/video_master_playlists', method: :get, html: { class: 'items_per_page_select' } do |f| %>
      <span>Items per page: </span>
      <%= items_per_page_select @video_master_playlists %>
      <%= f.submit "Submit" %>
    <% end %>
<% else %>
    No playlists were found
<% end %>